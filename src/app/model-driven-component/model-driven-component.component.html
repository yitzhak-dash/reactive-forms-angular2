<form [formGroup]="myGroup" (ngSubmit)="save(myForm)">
  <div>
    <label for="name">Name</label>
    <input type="text"
           id="name"
           formControlName="name"
           [(ngModel)]="user.name">
    <small [hidden]="myGroup.controls.name.valid || myGroup.controls.name.pristine">
      Name is required (minimum 5 characters).
    </small>
  </div>
  <div formGroupName="address">
    <label for="street">Street</label>
    <input type="text"
           id="street"
           formControlName="street"
           [(ngModel)]="user.address.street">
    <small
      [hidden]="myGroup.controls.address.controls.street.valid || myGroup.controls.address.controls.street.pristine"></small>
  </div>

  <div formGroupName="address">
    <label for="postcode">postcode</label>
    <input type="text" id="postcode" formControlName="postcode">
  </div>

  <app-nested-form></app-nested-form>

  <button type="submit" [disabled]="!myGroup.valid">submit</button>
</form>
